<% cache article do %>
  <div class="article">
    <h3><%= article.title %></h3>
    <p> <%= article.body %></p>
    <div class="tags">
      <h4> Tags:
        <% article.tags.each do |tag| %>
          <%= render "shared/tag", tag: tag %>
        <% end %>
      </h4>
    </div>
  </div>
  <hr>

  <div class="row">
    <div class="col-md-8">
      <h5>Comments:</h5>
      <div class="comments-container">
        <% comments.each do |comment| %>
          <%= render "shared/comment", comment: comment %>
        <% end %>
      </div>
      <div class="more-comments">
        <%= link_to_next_page comments, "Load more comments...", remote: true %>
      </div>
    </div>
  <% end %>

  <div class="col-md-4">
    <%= render "shared/comment_form", resource: article, comment: comment %>
  </div>
</div>
